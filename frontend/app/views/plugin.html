<div layout="column" class="plugin">

	<div layout="row" layout-align="center end" class="plugin_header">
      <img class="icon" src="{{plugin.logo_url}}">

        <div class='plugin_name'>
            <h2>{{plugin.name}}</h2>
            <h4 class="inline-authors"><span>{{'BY'|translate}}</span><span inline-authors="plugin.authors"></span></h4>
        </div>

      <div class='pills'>
         <span ng-repeat="version in plugin.versions | unique: 'compatibility' |Â subpart:3" class="pill bg_lightblue">{{version.compatibility}}</span>

         <span ng-show="plugin.versions.length > 3">
            ...
            <md-tooltip class="versions_more">
               <span ng-repeat="version in plugin.versions | unique: 'compatibility' | lastpart:3" class="pill bg_lightblue">{{version.compatibility}}</span>
            </md-tooltip>
         </span>
      </div>

      <rate-box flex current-note="plugin.note" rate-method="ratePlugin" votes-number="plugin.n_votes" disable-rating="rated"></rate-box>

      <span class='download'>
        <span class="downloads">
            <span class='pill bg_red'>
               <span ng-bind-html='plugin.downloaded | nrFormat'></span>
               <md-tooltip>downloads</md-tooltip>
            </span>
        </span>
        <md-button class="md-fab md-primary md-raised" ng-click="download()">
            <i class="fa fa-2x fa-download white"></i>
            <md-tooltip>Download</md-tooltip>
         </md-button>
      </span>
    </div>
    <div layout="row" layout-wrap>
        <md-content class='tabs' flex="50" flex-sm="100">
            <md-tabs md-dynamic-height>
                <md-tab ng-repeat="description in plugin.descriptions" label="{{description.lang}}">
                    <md-content class="md-padding description">
                        <p ng-bind-html="description.long_description | unsafe"></p>
                    </md-content>
                </md-tab>
            </md-tabs>
        </md-content>

      <div class='screenshots' flex="50" flex-sm="100">
         <!-- we need to implement a lightbox here -->
         <md-card class='screenshot' ng-repeat="screenshot in plugin.screenshots"><img ng-src="{{screenshot.url}}"></md-card>
      </div>
    </div>
    <div layout="row">
        <md-content class="infos" flex="50">
            <ul>
                <li>
                    <label>{{'VERSION'|translate}}</label>
                    <span>{{plugin.versions[0].num}}</span
                </li>
                <li>
                    <label>{{'COMPATIBLE_WITH'|translate}}</label>
                    <span>GLPI Version {{plugin.compatible_with}}</span>
                </li>
                <li ng-show="plugin.homepage_url">
                    <label>{{'HOMEPAGE'|translate}}</label>
                    <span><a href="{{plugin.homepage_url}}">{{plugin.homepage_url}}</a></td>
                </li>
                <li ng-show="plugin.issues_url">
                    <label>Issues</label>
                    <span><a href="{{plugin.issues_url}}">{{plugin.issues_url}}</a></td>
                </li>
                <li>
                    <label>{{'ADDED'|translate}}</label>
                    <span>{{fromNow(plugin.date_added)}}</span
                </li>
                <li>
                    <label>{{'UPDATED'|translate}}</label>
                    <span>{{fromNow(plugin.date_updated)}}</span
                </li>
            </ul>
        </md-content>
    </div>
</div>
